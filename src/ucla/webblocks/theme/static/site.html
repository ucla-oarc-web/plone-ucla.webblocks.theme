<!DOCTYPE html>
<html lang="en">
    
    <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
        <title></title>
        
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link rel="stylesheet" href="blocks/css/blocks.css">
        <script type="text/javascript" src="blocks/js/blocks.js"></script>
        <!--[if lte IE 9]>
        <link rel="stylesheet" href="blocks/css/blocks-ie.css">
        <script type="text/javascript" src="blocks/js/blocks-ie.js"></script>
        <![endif]-->
        
    </head>
    
    <body>
        
        <div id="site-topbar" class="container">
            
            <nav id="site-topbar-editing" class="float-container"></nav>
            <nav id="site-topbar-personal" class="float-container"></nav>

            <nav id="site-topbar-audience" role="navigation">
                <h1><a href="http://ucla.edu" target="_blank">UCLA.edu</a></h1>
            </nav>
            
        </div>
        
        <header id="site-header" role="banner">
            
            <div class="container">
            
                <hgroup class="site-header-title">
                    <h1 id="site-header-title-primary"></h1>
                    <h2 id="site-header-title-secondary"></h2>
                </hgroup>

                <nav id="site-header-navigation" role="navigation"></nav>

                <nav id="site-header-search" role="search"></nav>
            
            </div>
            
        </header>
        
        <div class="container">
            
            <div id="page">
            
                <div id="page-outer-row" class="row">
                    <div id="page-panel-wrapper">
                        <div id="page-inner-row" class="row">
                            
                            <div id="page-panel-one">
                                one
                            </div>
                            
                            <main id="page-content" role="main">
                                content
                            </main>
                            
                        </div>
                    </div>
                    
                    <div id="page-panel-two">
                        two
                    </div>
                    
                </div>
                
            </div>
            
        </div>
        
        <footer id="site-footer" role="contentinfo">
            
            <div class="container">

                <nav id="site-footer-actions"></nav>

                <div id="site-footer-colophon"></div>
            
            </div>
            
        </footer>
        
        <script type="text/javascript">
            $(document).ready(function(){
                $('#site-header-navigation .dropdown').each(function(){
                    if($.trim($(this).text()).length == 0)
                        $(this).remove() /* TODO: prune via Diazo */
                })
                
                var setDropdownSpacer = function(){
                    if(!isFloated())
                        return;
                    
                    var visible = $('#site-header-navigation .dropdown:visible')
                    if(visible.length)
                        $('#site-header-navigation').css('height', (visible.height()+30+26)+'px')
                    else
                        $('#site-header-navigation').css('height', 26+'px')

                }
                
                var isFloated = function(){
                    var floatVal = $('#site-header-navigation > ul > li').css('float')
                    return floatVal == 'left' || floatVal == 'right';
                }
                
                var checkDropdownSpacing = function(){
                    if(!isFloated())
                        $('#site-header-navigation').css('height','auto')
                    else{
                        $('#site-header-navigation').css('height', 26+'px')
                        setDropdownSpacer()
                    }
                }
                
                checkDropdownSpacing()
                $(window).resize(checkDropdownSpacing)
                
                $('#site-header-navigation h1 a').click(function(e){
                    
                    var liEle = $(this).closest('li'),
                        dropdownEle = liEle.children('.dropdown'),
                        show = !liEle.hasClass('active')
                        
                    if(!dropdownEle.length) /* TODO: remove once pruned in Diazo */
                        return;
                    
                    e.preventDefault()
                        
                    $('#site-header-navigation > ul > li').removeClass('active')
                    
                    if(show){
                        liEle.addClass('active')
                    }
                    setDropdownSpacer();
                })
            })
        </script>
        
    </body>
    
</html>